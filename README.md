# Lego-Powered-Up-Two-Trams

Have two LEGO trams drive autonomously in your Winter Village on a single track!

## Table of Contents
* [General Info](#general-information)
* [Technologies Used](#technologies-used)
* [Lego Required](#lego-required)
* [Features](#features)
* [Setup](#setup)
* [Usage](#usage)
* [Project Status](#project-status)
* [Room for Improvement](#room-for-improvement)
* [Acknowledgements and Thanks](#acknowledgements-and-thanks)
* [Contact](#contact)

## General Information
- LEGO released **10308 Holiday Main Street** in 2022.
- It is part of the Winter Village Collection, which started in 2009.
- It includes a tram (streetcar), which can make for a dynamic addition to your display.
- Adding Powered Up motorized parts as recommended by Lego allows for Bluetooth control from your handheld device.
- **This project allows you to have two trams run autonomously.**
- Using the Create option in the app, you can copy this code to run two trams.
- This allows you to enjoy the trams running without active control.

## Technologies Used
- LEGO Powered Up App
- Bluetooth-enabled smart device

## Lego Required
- 10308 Holiday Main Street (x2)
- Powered Up Hub (x2)
- Color sensor (x2)
- Train motor (x2)
- Identical switch points (x2)
- Curve tracks (x2)
- Straight Tracks (>=4)

## Features
- Two trams will both run on a single short line.
- Passing tracks in the middle allow for a minimum use of space in your display.
- Single color for color sensor (red) works most often under any room lighting.
- Alternating turns for trams allows for less accidents.

## Setup
- 10308 Holiday Main Street (x2) must be purchased and modified.
- Motors should be connnected through port A per the official instructions.
- Lights though recommended by LEGO should not be added.
- Color sensors should be connected through port B.
- Color sensors can be run out the window and connected in lieu of a wreath pointing downward.
- With this layout, sensors are attached at the west end of both trams to allow for consistent positioning of red tiles.
- Straight track at either end should be broken up in the center with two identical point switches, both set to run straight.
![Track Layout](https://github.com/jpjamiesonmb/Lego-Powered-Up-Two-Trams/blob/main/Lego-Two-Trams-Track-1.png)
- Red tiles should be placed at four locations, West (1), North (2), East (3), South (4).
![Station Layout](https://github.com/jpjamiesonmb/Lego-Powered-Up-Two-Trams/blob/main/Lego-Two-Trams-Track-3-Stations.png)
- These red tiles will serve as stopping points (stations) for passengers to (dis)embark.
- Code should be recreated in the Create option of the Powered Up app.
![Code 1](https://github.com/jpjamiesonmb/Lego-Powered-Up-Two-Trams/blob/main/Lego-Two-Trams-Code-1.PNG)
![Code 2](https://github.com/jpjamiesonmb/Lego-Powered-Up-Two-Trams/blob/main/Lego-Two-Trams-Code-2.PNG)
![Code 3](https://github.com/jpjamiesonmb/Lego-Powered-Up-Two-Trams/blob/main/Lego-Two-Trams-Code-3.PNG)
- Both trams should be initially set up a the West (1) and East (3) stations.
- Connect the West (1) tram to the Powered Up app via Bluetooth, so it is assigned Hub 1 with this code.
- Connect the East (3) tram to the Powered Up app via Bluetooth, so it is assigned Hub 2 with this code.

## Usage
- When the trams and track are built and modified, hit play on the app to see the trams drive back and forth in your Winter Village.
![Tram Flow](https://github.com/jpjamiesonmb/Lego-Powered-Up-Two-Trams/blob/main/Lego-Two-Trams-Track-4-Flow.png)

## Project Status
- Project has been simplified to only require one color (red) to be detected by the sensors at each station.  
- Project has been simplified so both trams alternate when they drive, minimizing the risk of collisions.
- Project will be revisited next winter. 

## Room for Improvement
- Multiple color tiles can be used at each station (West (1), North (2), East (3), South (4)) if the room lighting allows. 
- Stations having different colors allow for more complex code where the trams communicate where they are to prevent crashes.
- Simultaneous driving can be done, but code based on timing can depend of batteries being at the same charge. 

## Acknowledgements and Thanks
- This project was inspired by Jamie Berard's creation of the Winter Village Collection.
- Thanks to everyone who who visited and enjoyed our Winter Village layout!

## Contact
Created by jpjamiesonmb. Contact not available at this time.
